<!DOCTYPE html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>Open LiteSpeed Web Serverユーザーズマニュアル - Rewrite</title>
  <meta name="description" content="Open LiteSpeed Web Serverユーザーズマニュアル - Rewrite." />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" href="../img/favicon.ico" />
  <link rel="stylesheet" type="text/css" href="../css/hdoc.css">
</head>
<body>
<div class="pagewrapper clearfix"><aside class="sidetree ls-col-1-5">
      <figure>
        <img src="../img/ols_logo.svg" alt="openlitespeed logo" width="150px"/>
      </figure>
<h3 class="ls-text-thin">OpenLiteSpeed Web Server <a href="index.html"> ユーザーズマニュアル</a></h3>
<h5 class="ls-text-muted">Version 1.4 &nbsp;&#8212;&nbsp;Rev. 3 </h5>
<hr/>
<div>
<ul>
<li><a href="license.html">ライセンス</a></li>
<li><a href="intro.html">はじめに</a></li>
<li><a href="install.html">インストール</a></li>
<li><a href="admin.html">管理</a>
	<ul class="level2"><li><a href="ServerStat_Help.html">サービスマネージャ</a></li></ul></li>
<li><a href="security.html">セキュリティ</a></li>
<li><a href="config.html">設定</a>
	<ul class="level2">
	<li><a href="ServGeneral_Help.html">サーバー全般</a></li>
        <li><a href="ServLog_Help.html">サーバーログ</a></li>
	<li><a href="ServTuning_Help.html">サーバーのチューニング</a></li>
	<li><a href="ServSecurity_Help.html">サーバーのセキュリティ</a></li>
	<li><a href="ExtApp_Help.html">外部アプリ</a></li>
                <ul class="level3">
                <li><a href="External_FCGI.html">Fast CGIアプリ</a></li>
                <li><a href="External_FCGI_Auth.html">Fast CGIオーソライザー</a></li>
                <li><a href="External_LSAPI.html">LSAPIアプリ</a></li>
                <li><a href="External_Servlet.html">サーブレットエンジン</a></li>
                <li><a href="External_WS.html">Webサーバー</a></li>
                <li><a href="External_PL.html">パイプロガー</a></li>
                <li><a href="External_LB.html">ロードバランサ</a></li>
                </ul>
	<li><a href="ScriptHandler_Help.html">スクリプトハンドラ</a></li>
	<li><a href="Rails_Help.html">Rack/Railsの設定</a></li>
	<li><a href="Module_Help.html">モジュール設定</a></li>
	<li><a href="Listeners_General_Help.html">リスナー全般</a></li>
        <li><a href="Listeners_SSL_Help.html">リスナーのSSL</a></li>
	<li><a href="Templates_Help.html">テンプレート</a></li>
	<li><a href="VirtualHosts_Help.html">バーチャルホストの基本</a></li>
	<li><a href="VHGeneral_Help.html">バーチャルホスト全般</a></li>
	<li><a href="VHSecurity_Help.html">バーチャルホストのセキュリティ</a></li>
        <li><a href="VHSSL_Help.html">バーチャルホストのSSL</a></li>
	<li><span class="current"><a href="Rewrite_Help.html">Rewrite</a></span></li>
	<li><a href="Context_Help.html">コンテキスト</a></li>
               <ul class="level3">
                <li><a href="Static_Context.html">静的コンテテキスト</a></li>
                <li><a href="Java_Web_App_Context.html">Java Webアプリのコンテキスト</a></li>
                <li><a href="Servlet_Context.html">サーブレットコンテキスト</a></li>
                <li><a href="FCGI_Context.html">Fast CGIコンテキスト</a></li>
                <li><a href="LSAPI_Context.html">LSAPIコンテキスト</a></li>
                <li><a href="Proxy_Context.html">プロキシコンテキスト</a></li>
                <li><a href="CGI_Context.html">CGIコンテキスト</a></li>
                <li><a href="LB_Context.html">ロードバランサコンテキスト</a></li>
                <li><a href="Redirect_Context.html">コンテキストのリダイレクト</a></li>
                <li><a href="Rails_Context.html">Rack/Railsのコンテキスト</a></li>
                <li><a href="Module_Context.html">モジュールハンドラのコンテキスト</a></li>
                </ul>
	<li><a href="VHWebSocket_Help.html">Web Socketプロキシ</a></li>
	</ul>
</li>
<li><a href="webconsole.html">Webコンソール</a>
        <ul class="level2">
        <li><a href="AdminGeneral_Help.html">管理コンソール全般</a></li>
        <li><a href="AdminSecurity_Help.html">管理コンソールのセキュリティ</a></li>
	<li><a href="AdminListeners_General_Help.html">管理リスナー全般</a></li>
        <li><a href="AdminListeners_SSL_Help.html">管理リスナーのSSL</a></li>
        </ul>
</li>
</ul>
</div>
</aside>
<article class="contentwrapper ls-col-3-5 clearfix"><div class="nav-bar ls-spacer-micro-top"><div class="prev">&#171 <a href="VHSSL_Help.html">バーチャルホストSSL</a></div><div class="center"><a href="config.html">設定</a></div><div class="next"><a href="Context_Help.html">コンテキスト</a> &#187;</div></div>
<h1>Rewrite</h1><h2 id="top">目次</h2><section class="toc"><section class="toc-row"><header>Rewrite制御</header><p>
<a href="#enableRewrite">Rewriteを有効にする</a> | <a href="#rewriteLogLevel">ログレベル</a></p></section>
<section class="toc-row"><header>Rewriteマップ</header><p>
<a href="#rewriteMapName">名前</a> | <a href="#rewriteMapLocation">ロケーション</a></p></section>
<section class="toc-row"><header>Rewriteルール</header><p>
<a href="#rewriteRules">Rewriteルール</a></p></section>
</section>
<section><div class="helpitem"><article class="ls-helpitem"><div><header id="enableRewrite"><h3>Rewriteを有効にする<span class="ls-permlink"><a href="#enableRewrite"></a></span><span class="top"><a href="#top">&#8657;</a></span></h3></header></div><h4>説明</h4><p>LiteSpeedのURL書き換えエンジンを有効にするかどうかを指定します。 このオプションは、バーチャルホストまたはコンテキストレベルでカスタマイズでき、明示的に上書きされるまでディレクトリツリーに沿って継承されます。</p> <h4>構文</h4><p>ラジオボックスから選択</p> </article> </div>
<div class="helpitem"><article class="ls-helpitem"><div><header id="rewriteLogLevel"><h3>ログレベル<span class="ls-permlink"><a href="#rewriteLogLevel"></a></span><span class="top"><a href="#top">&#8657;</a></span></h3></header></div><h4>説明</h4><p>書き換えエンジンのデバッグ出力の詳細レベルを指定します。 この値の範囲は<span class="val">0</span>-<span class="val">9</span>です。<span class="val">0</span>はロギングを無効にします。<span class="val">9</span>は最も詳細なログを生成します。 このオプションを有効にするには、サーバーとバーチャルホストのエラーログ<span class="tagl"><a href="ServGeneral_Help.html#log_logLevel">ログレベル</a></span>を少なくとも<span class="val">INFO</span>以上に設定する必要があります。 これは、書き換えルールをテストする場合に便利です。</p> <h4>構文</h4><p>整数</p> <h4>参照</h4><p class="ls-text-small">Server <span class="tagl"><a href="ServGeneral_Help.html#log_logLevel">ログレベル</a></span>, Virtual Host <span class="tagl"><a href="VHGeneral_Help.html#vhlog_logLevel">ログレベル</a></span></p> </article> </div>
<div class="helpitem"><article class="ls-helpitem"><div><header id="rewriteMapName"><h3>名前<span class="ls-permlink"><a href="#rewriteMapName"></a></span><span class="top"><a href="#top">&#8657;</a></span></h3></header></div><h4>説明</h4><p>バーチャルホスト・レベルでの再書き込みマップの一意の名前を指定します。 この名前は、書き換えルールのマッピング参照によって使用されます。 この名前を参照するときは、次の構文のいずれかを使用する必要があります: <blockquote><code> $\{MapName:LookupKey\}<br/> $\{MapName:LookupKey|DefaultValue\} </code></blockquote><br/> LiteSpeedのリライトエンジンの実装は、Apacheのリライトエンジンの仕様に準拠しています。 書き直しマップの詳細については、<a href="http://httpd.apache.org/docs/current/mod/mod_rewrite.html" target="_blank" rel="noopener noreferrer">Apacheのmod_rewrite文書</a>を参照してください。</p> <h4>構文</h4><p>文字列</p> </article> </div>
<div class="helpitem"><article class="ls-helpitem"><div><header id="rewriteMapLocation"><h3>ロケーション<span class="ls-permlink"><a href="#rewriteMapLocation"></a></span><span class="top"><a href="#top">&#8657;</a></span></h3></header></div><h4>説明</h4><p><span class="val">MapType：MapSource</span>構文を使用して、書き換えマップの場所を指定します。<br/> LiteSpeedの書き換えエンジンは、次の3種類の書き換えマップをサポートしています: <ul> 	<li><b>標準プレーンテキスト</b> <blockquote> 		<b>MapType:</b> txt; <br/> 		<b>MapSource:</b> ファイルパスを有効なプレーンASCIIファイルに変換します。 </blockquote> 		このファイルの各行には空白で区切られた2つの要素が含まれていなければなりません。         最初の要素はキーで、2番目の要素は値です。 コメントには先頭に「<span class="val">#</span>」という記号を付けることができます。  	</li> 	<li><b>ランダム化されたプレーンテキスト</b> <blockquote> 		<b>MapType:</b> rnd;<br/> 		<b>MapSource:</b> 有効なプレーンASCIIファイルのファイルパス。 </blockquote> 		ファイル形式は、標準のプレーンテキストファイルと似ていますが、2番目の要素には "<span class="val"> | </span>"記号で区切られた         複数の選択肢があり、書き換えエンジンによってランダムに選択できます。 	</li> 	<li><b>内部機能</b> <blockquote> 	    <b>MapType:</b> int;<br/> 		<b>MapSource:</b> 内部文字列関数 </blockquote> 		4つの機能を利用できます： 		<ul> 			<li><b>toupper:</b> 検索キーを大文字に変換します。</li> 			<li><b>tolower:</b> 検索キーを小文字に変換します。</li> 			<li><b>escape:</b> 検索キーでURLエンコーディングを実行します。</li> 			<li><b>unescape:</b> 検索キーでURLデコードを実行します。</li> 		</ul> 	</li> 	Apacheで利用可能な次のマップタイプはLiteSpeedでは実装されていません：<br/> ハッシュファイルと外部書き換えプログラム。 </ul> LiteSpeedのリライトエンジンの実装は、Apacheのリライトエンジンの仕様に準拠しています。 書き直しマップの詳細については、<a href="http://httpd.apache.org/docs/current/mod/mod_rewrite.html" target="_blank" rel="noopener noreferrer">Apacheのmod_rewrite文書</a>を参照してください。</p> <h4>構文</h4><p>文字列</p> </article> </div>
<div class="helpitem"><article class="ls-helpitem"><div><header id="rewriteRules"><h3>Rewriteルール<span class="ls-permlink"><a href="#rewriteRules"></a></span><span class="top"><a href="#top">&#8657;</a></span></h3></header></div><h4>説明</h4><p>バーチャルホストまたはコンテキスト・レベルでの書き換えルールのリストを指定します。 書き換えルールは、<span class="val">RewriteRule</span>ディレクティブから構成され、オプションとして複数の<span class="val">RewriteCond</span>ディレクティブが前に付いています。  <ul> <li>各ディレクティブは1行だけを取る必要があります。</li> <li><span class="val">RewriteCond</span>と<span class="val">RewriteRule</span>は、Apacheのリライト命令構文に従います。 あなたのApache設定ファイルから書き換え命令文をコピー＆ペーストするだけです。</li> <li>LiteSpeedとApache mod_rewriteには小さな違いがあります 実装:  <ul> 　<li>LiteSpeed書き換えエンジンでは、<span class="val">％\ {LA-U：変数\} </span>と<span class="val">％\ {LA-F：変数\} </span>は無視されます</li>   <li>LiteSpeed書き換えエンジンに2つの新しいサーバー変数が追加されました。:    LiteSpeed書き換えエンジンに2つの新しいサーバー変数が追加されました。 <span class="val">％\{CURRENT_URI\}</span>は、書き換えエンジンによって処理されている現在のURIを表し、<span class="val">％\{SCRIPT_NAME\}</span>は対応するCGI環境変数と同じ意味を持ちます。</li> </ul></li> </ul> LiteSpeedのリライトエンジンの実装は、Apacheのリライトエンジンの仕様に従います。 書き換えルールの詳細については、<a href="http://httpd.apache.org/docs/current/mod/mod_rewrite.html" target="_blank" rel="noopener noreferrer">Apacheのmod_rewriteドキュメント</a>と<a href="http://httpd.apache.org/docs/current/rewrite/" target="_blank" rel="noopener noreferrer">ApacheのURL書き換えガイド</a>を参照してください。</p> <h4>構文</h4><p>文字列</p> </article> </div>
</section>
</article><div  class="ls-col-1-1"><footer class="copyright">Copyright &copy; 2013-2017. <a href="https://www.litespeedtech.com">LiteSpeed Technologies Inc.</a> All rights reserved.</footer>
</div></div>
</body>
</html>
